"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/posts";
exports.ids = ["pages/api/posts"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fposts%2Findex.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fposts%2Findex.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_posts_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/posts/index.ts */ \"(api)/./pages/api/posts/index.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_posts_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_posts_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/posts\",\n        pathname: \"/api/posts\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_posts_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnBvc3RzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZwb3N0cyUyRmluZGV4LnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3VEO0FBQ3ZEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxzREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsc0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLWJsb2ctcGxhdGZvcm0vP2VmOWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9wb3N0cy9pbmRleC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Bvc3RzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcG9zdHNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fposts%2Findex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Database: () => (/* binding */ Database)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst dataDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\");\n// Ensure data directory exists\nif (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dataDir)) {\n    fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dataDir, {\n        recursive: true\n    });\n}\n// Database helper functions\nclass Database {\n    static getFilePath(collection) {\n        return path__WEBPACK_IMPORTED_MODULE_1___default().join(dataDir, `${collection}.json`);\n    }\n    static readCollection(collection) {\n        const filePath = this.getFilePath(collection);\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n            return [];\n        }\n        try {\n            const data = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n            return JSON.parse(data);\n        } catch (error) {\n            console.error(`Error reading ${collection}:`, error);\n            return [];\n        }\n    }\n    static writeCollection(collection, data) {\n        const filePath = this.getFilePath(collection);\n        try {\n            fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(data, null, 2));\n        } catch (error) {\n            console.error(`Error writing ${collection}:`, error);\n        }\n    }\n    // Blog Posts\n    static getAllPosts() {\n        return this.readCollection(\"posts\");\n    }\n    static getPublishedPosts() {\n        return this.getAllPosts().filter((post)=>post.published);\n    }\n    static getPostById(id) {\n        const posts = this.getAllPosts();\n        return posts.find((post)=>post.id === id) || null;\n    }\n    static createPost(post) {\n        const posts = this.getAllPosts();\n        const newPost = {\n            ...post,\n            id: Date.now().toString(),\n            date: new Date().toISOString(),\n            views: 0,\n            likes: 0\n        };\n        posts.push(newPost);\n        this.writeCollection(\"posts\", posts);\n        return newPost;\n    }\n    static updatePost(id, updates) {\n        const posts = this.getAllPosts();\n        const index = posts.findIndex((post)=>post.id === id);\n        if (index === -1) return null;\n        posts[index] = {\n            ...posts[index],\n            ...updates\n        };\n        this.writeCollection(\"posts\", posts);\n        return posts[index];\n    }\n    static deletePost(id) {\n        const posts = this.getAllPosts();\n        const filteredPosts = posts.filter((post)=>post.id !== id);\n        if (filteredPosts.length === posts.length) return false;\n        this.writeCollection(\"posts\", filteredPosts);\n        return true;\n    }\n    static incrementViews(id) {\n        const posts = this.getAllPosts();\n        const post = posts.find((p)=>p.id === id);\n        if (post) {\n            post.views += 1;\n            this.writeCollection(\"posts\", posts);\n        }\n    }\n    static toggleLike(id) {\n        const posts = this.getAllPosts();\n        const post = posts.find((p)=>p.id === id);\n        if (post) {\n            post.likes += 1;\n            this.writeCollection(\"posts\", posts);\n            return post.likes;\n        }\n        return 0;\n    }\n    // Comments\n    static getCommentsByPostId(postId) {\n        const comments = this.readCollection(\"comments\");\n        return comments.filter((comment)=>comment.postId === postId && comment.approved);\n    }\n    static createComment(comment) {\n        const comments = this.readCollection(\"comments\");\n        const newComment = {\n            ...comment,\n            id: Date.now().toString(),\n            date: new Date().toISOString(),\n            approved: false\n        };\n        comments.push(newComment);\n        this.writeCollection(\"comments\", comments);\n        return newComment;\n    }\n    // Newsletter\n    static subscribeNewsletter(email) {\n        const subscribers = this.readCollection(\"newsletter\");\n        const existing = subscribers.find((sub)=>sub.email === email);\n        if (existing) {\n            existing.active = true;\n            this.writeCollection(\"newsletter\", subscribers);\n            return existing;\n        }\n        const newSubscriber = {\n            id: Date.now().toString(),\n            email,\n            subscribedAt: new Date().toISOString(),\n            active: true\n        };\n        subscribers.push(newSubscriber);\n        this.writeCollection(\"newsletter\", subscribers);\n        return newSubscriber;\n    }\n    static unsubscribeNewsletter(email) {\n        const subscribers = this.readCollection(\"newsletter\");\n        const subscriber = subscribers.find((sub)=>sub.email === email);\n        if (subscriber) {\n            subscriber.active = false;\n            this.writeCollection(\"newsletter\", subscribers);\n            return true;\n        }\n        return false;\n    }\n    // Contact Messages\n    static createContactMessage(message) {\n        const messages = this.readCollection(\"contact\");\n        const newMessage = {\n            ...message,\n            id: Date.now().toString(),\n            date: new Date().toISOString(),\n            read: false\n        };\n        messages.push(newMessage);\n        this.writeCollection(\"contact\", messages);\n        return newMessage;\n    }\n    // Search\n    static searchPosts(query) {\n        const posts = this.getPublishedPosts();\n        const lowercaseQuery = query.toLowerCase();\n        return posts.filter((post)=>post.title.toLowerCase().includes(lowercaseQuery) || post.excerpt.toLowerCase().includes(lowercaseQuery) || post.content.toLowerCase().includes(lowercaseQuery) || post.tags.some((tag)=>tag.toLowerCase().includes(lowercaseQuery)) || post.category.toLowerCase().includes(lowercaseQuery));\n    }\n    // Initialize with sample data\n    static initializeSampleData() {\n        const posts = this.getAllPosts();\n        if (posts.length === 0) {\n            const samplePosts = [\n                {\n                    id: \"1\",\n                    title: \"The Future of Web Development: Trends to Watch in 2024\",\n                    content: `The landscape of web development is constantly evolving, and 2024 promises to bring exciting new trends and technologies that will reshape how we build and interact with web applications.\n\nArtificial Intelligence is becoming increasingly integrated into development workflows, from code generation to automated testing. AI-powered tools are helping developers write more efficient code, catch bugs earlier, and optimize performance automatically.\n\nServer-side rendering and static site generation continue to gain popularity as developers prioritize performance and SEO. Frameworks like Next.js, Nuxt.js, and SvelteKit are leading the charge in providing excellent developer experiences while delivering fast, SEO-friendly applications.\n\nThe rise of edge computing is changing how we think about deployment and performance. By moving computation closer to users, we can achieve lower latency and better user experiences, especially for global applications.\n\nWebAssembly is opening new possibilities for web applications, allowing developers to run high-performance code written in languages like Rust, C++, and Go directly in the browser. This is particularly exciting for applications that require intensive computation.\n\nProgressive Web Apps (PWAs) are becoming more sophisticated, offering native-like experiences while maintaining the accessibility and reach of web applications. With improved offline capabilities and better integration with device features, PWAs are bridging the gap between web and native apps.`,\n                    excerpt: \"Explore the cutting-edge technologies and methodologies that are shaping the future of web development, from AI integration to advanced frameworks.\",\n                    author: \"Sarah Johnson\",\n                    date: new Date(\"2023-12-15\").toISOString(),\n                    readTime: \"8 min read\",\n                    category: \"Technology\",\n                    imageUrl: \"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=800&h=400&fit=crop\",\n                    featured: true,\n                    published: true,\n                    tags: [\n                        \"web development\",\n                        \"AI\",\n                        \"technology\",\n                        \"trends\"\n                    ],\n                    views: 1250,\n                    likes: 89\n                },\n                {\n                    id: \"2\",\n                    title: \"Mastering Modern Design Systems\",\n                    content: `Design systems have become the backbone of modern digital product development, providing consistency, efficiency, and scalability across teams and products.\n\nA well-crafted design system serves as a single source of truth for design decisions, ensuring that every component, color, typography choice, and interaction pattern aligns with the brand's vision and user experience goals.\n\nThe foundation of any design system starts with design tokens - the smallest units of design decisions. These include colors, spacing, typography scales, and other visual properties that can be systematically applied across all touchpoints.\n\nComponent libraries are the building blocks that bring design systems to life. By creating reusable, well-documented components, teams can maintain consistency while accelerating development cycles. Tools like Storybook, Figma, and design system platforms make it easier to document and share these components.\n\nAccessibility should be baked into every aspect of your design system. This means considering color contrast ratios, keyboard navigation, screen reader compatibility, and inclusive design principles from the ground up.\n\nDocumentation is crucial for adoption and success. A design system is only as good as its documentation - clear guidelines, usage examples, and rationale behind decisions help teams understand not just what to use, but when and why to use it.`,\n                    excerpt: \"Learn how to create scalable and maintainable design systems that enhance user experience and streamline development workflows.\",\n                    author: \"Michael Chen\",\n                    date: new Date(\"2023-12-12\").toISOString(),\n                    readTime: \"6 min read\",\n                    category: \"Design\",\n                    imageUrl: \"https://images.unsplash.com/photo-1558655146-9f40138edfeb?w=800&h=400&fit=crop\",\n                    featured: true,\n                    published: true,\n                    tags: [\n                        \"design systems\",\n                        \"UI/UX\",\n                        \"design\",\n                        \"components\"\n                    ],\n                    views: 980,\n                    likes: 67\n                },\n                {\n                    id: \"3\",\n                    title: \"Building Sustainable Business Models in Tech\",\n                    content: `In today's rapidly evolving technology landscape, building sustainable business models has become more crucial than ever. Companies that focus on long-term value creation rather than short-term gains are the ones that thrive in competitive markets.\n\nSustainability in business goes beyond environmental considerations. It encompasses economic viability, social responsibility, and technological adaptability. Tech companies must balance innovation with stability, growth with responsibility.\n\nOne key aspect of sustainable business models is customer-centricity. Understanding your users' needs, pain points, and behaviors allows you to create products and services that provide genuine value. This leads to higher customer retention, positive word-of-mouth, and sustainable revenue streams.\n\nAnother important factor is building diverse revenue streams. Relying on a single source of income can be risky in the volatile tech industry. Companies should explore multiple monetization strategies, from subscription models to partnerships and licensing agreements.\n\nInvestment in talent and culture is equally important. Sustainable businesses invest in their people, creating environments where innovation can flourish while maintaining work-life balance and employee satisfaction.\n\nFinally, staying adaptable and embracing change is essential. The tech industry moves fast, and companies that can pivot when necessary while maintaining their core values are more likely to succeed in the long run.`,\n                    excerpt: \"Discover strategies for creating long-term value and sustainable growth in the rapidly evolving technology landscape.\",\n                    author: \"Emily Rodriguez\",\n                    date: new Date(\"2023-12-10\").toISOString(),\n                    readTime: \"10 min read\",\n                    category: \"Business\",\n                    imageUrl: \"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop\",\n                    featured: false,\n                    published: true,\n                    tags: [\n                        \"business\",\n                        \"sustainability\",\n                        \"strategy\",\n                        \"tech\"\n                    ],\n                    views: 756,\n                    likes: 45\n                }\n            ];\n            this.writeCollection(\"posts\", samplePosts);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VztvQkFDWHVELE1BQU07d0JBQUM7d0JBQW1CO3dCQUFNO3dCQUFjO3FCQUFTO29CQUN2RDNDLE9BQU87b0JBQ1BDLE9BQU87Z0JBQ1Q7Z0JBQ0E7b0JBQ0VYLElBQUk7b0JBQ0ppRCxPQUFPO29CQUNQRyxTQUFTLENBQUM7Ozs7Ozs7Ozs7a1BBVThOLENBQUM7b0JBQ3pPRCxTQUFTO29CQUNUUSxRQUFRO29CQUNSbkQsTUFBTSxJQUFJSCxLQUFLLGNBQWNJLFdBQVc7b0JBQ3hDbUQsVUFBVTtvQkFDVkosVUFBVTtvQkFDVkssVUFBVTtvQkFDVkMsVUFBVTtvQkFDVmhFLFdBQVc7b0JBQ1h1RCxNQUFNO3dCQUFDO3dCQUFrQjt3QkFBUzt3QkFBVTtxQkFBYTtvQkFDekQzQyxPQUFPO29CQUNQQyxPQUFPO2dCQUNUO2dCQUNBO29CQUNFWCxJQUFJO29CQUNKaUQsT0FBTztvQkFDUEcsU0FBUyxDQUFDOzs7Ozs7Ozs7O3VOQVVtTSxDQUFDO29CQUM5TUQsU0FBUztvQkFDVFEsUUFBUTtvQkFDUm5ELE1BQU0sSUFBSUgsS0FBSyxjQUFjSSxXQUFXO29CQUN4Q21ELFVBQVU7b0JBQ1ZKLFVBQVU7b0JBQ1ZLLFVBQVU7b0JBQ1ZDLFVBQVU7b0JBQ1ZoRSxXQUFXO29CQUNYdUQsTUFBTTt3QkFBQzt3QkFBWTt3QkFBa0I7d0JBQVk7cUJBQU87b0JBQ3hEM0MsT0FBTztvQkFDUEMsT0FBTztnQkFDVDthQUNEO1lBRUQsSUFBSSxDQUFDcEIsZUFBZSxDQUFDLFNBQVNtRTtRQUNoQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtYmxvZy1wbGF0Zm9ybS8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuY29uc3QgZGF0YURpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScpO1xuXG4vLyBFbnN1cmUgZGF0YSBkaXJlY3RvcnkgZXhpc3RzXG5pZiAoIWZzLmV4aXN0c1N5bmMoZGF0YURpcikpIHtcbiAgZnMubWtkaXJTeW5jKGRhdGFEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsb2dQb3N0IHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBleGNlcnB0OiBzdHJpbmc7XG4gIGF1dGhvcjogc3RyaW5nO1xuICBkYXRlOiBzdHJpbmc7XG4gIHJlYWRUaW1lOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBzdHJpbmc7XG4gIGltYWdlVXJsOiBzdHJpbmc7XG4gIGZlYXR1cmVkPzogYm9vbGVhbjtcbiAgcHVibGlzaGVkOiBib29sZWFuO1xuICB0YWdzOiBzdHJpbmdbXTtcbiAgdmlld3M6IG51bWJlcjtcbiAgbGlrZXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21tZW50IHtcbiAgaWQ6IHN0cmluZztcbiAgcG9zdElkOiBzdHJpbmc7XG4gIGF1dGhvcjogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIGRhdGU6IHN0cmluZztcbiAgYXBwcm92ZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmV3c2xldHRlciB7XG4gIGlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHN1YnNjcmliZWRBdDogc3RyaW5nO1xuICBhY3RpdmU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGFjdE1lc3NhZ2Uge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHN1YmplY3Q6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBkYXRlOiBzdHJpbmc7XG4gIHJlYWQ6IGJvb2xlYW47XG59XG5cbi8vIERhdGFiYXNlIGhlbHBlciBmdW5jdGlvbnNcbmV4cG9ydCBjbGFzcyBEYXRhYmFzZSB7XG4gIHByaXZhdGUgc3RhdGljIGdldEZpbGVQYXRoKGNvbGxlY3Rpb246IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHBhdGguam9pbihkYXRhRGlyLCBgJHtjb2xsZWN0aW9ufS5qc29uYCk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyByZWFkQ29sbGVjdGlvbjxUPihjb2xsZWN0aW9uOiBzdHJpbmcpOiBUW10ge1xuICAgIGNvbnN0IGZpbGVQYXRoID0gdGhpcy5nZXRGaWxlUGF0aChjb2xsZWN0aW9uKTtcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCAndXRmOCcpO1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlYWRpbmcgJHtjb2xsZWN0aW9ufTpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgd3JpdGVDb2xsZWN0aW9uPFQ+KGNvbGxlY3Rpb246IHN0cmluZywgZGF0YTogVFtdKTogdm9pZCB7XG4gICAgY29uc3QgZmlsZVBhdGggPSB0aGlzLmdldEZpbGVQYXRoKGNvbGxlY3Rpb24pO1xuICAgIHRyeSB7XG4gICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHdyaXRpbmcgJHtjb2xsZWN0aW9ufTpgLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLy8gQmxvZyBQb3N0c1xuICBzdGF0aWMgZ2V0QWxsUG9zdHMoKTogQmxvZ1Bvc3RbXSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZENvbGxlY3Rpb248QmxvZ1Bvc3Q+KCdwb3N0cycpO1xuICB9XG5cbiAgc3RhdGljIGdldFB1Ymxpc2hlZFBvc3RzKCk6IEJsb2dQb3N0W10ge1xuICAgIHJldHVybiB0aGlzLmdldEFsbFBvc3RzKCkuZmlsdGVyKHBvc3QgPT4gcG9zdC5wdWJsaXNoZWQpO1xuICB9XG5cbiAgc3RhdGljIGdldFBvc3RCeUlkKGlkOiBzdHJpbmcpOiBCbG9nUG9zdCB8IG51bGwge1xuICAgIGNvbnN0IHBvc3RzID0gdGhpcy5nZXRBbGxQb3N0cygpO1xuICAgIHJldHVybiBwb3N0cy5maW5kKHBvc3QgPT4gcG9zdC5pZCA9PT0gaWQpIHx8IG51bGw7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlUG9zdChwb3N0OiBPbWl0PEJsb2dQb3N0LCAnaWQnIHwgJ2RhdGUnIHwgJ3ZpZXdzJyB8ICdsaWtlcyc+KTogQmxvZ1Bvc3Qge1xuICAgIGNvbnN0IHBvc3RzID0gdGhpcy5nZXRBbGxQb3N0cygpO1xuICAgIGNvbnN0IG5ld1Bvc3Q6IEJsb2dQb3N0ID0ge1xuICAgICAgLi4ucG9zdCxcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB2aWV3czogMCxcbiAgICAgIGxpa2VzOiAwLFxuICAgIH07XG4gICAgcG9zdHMucHVzaChuZXdQb3N0KTtcbiAgICB0aGlzLndyaXRlQ29sbGVjdGlvbigncG9zdHMnLCBwb3N0cyk7XG4gICAgcmV0dXJuIG5ld1Bvc3Q7XG4gIH1cblxuICBzdGF0aWMgdXBkYXRlUG9zdChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEJsb2dQb3N0Pik6IEJsb2dQb3N0IHwgbnVsbCB7XG4gICAgY29uc3QgcG9zdHMgPSB0aGlzLmdldEFsbFBvc3RzKCk7XG4gICAgY29uc3QgaW5kZXggPSBwb3N0cy5maW5kSW5kZXgocG9zdCA9PiBwb3N0LmlkID09PSBpZCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgcG9zdHNbaW5kZXhdID0geyAuLi5wb3N0c1tpbmRleF0sIC4uLnVwZGF0ZXMgfTtcbiAgICB0aGlzLndyaXRlQ29sbGVjdGlvbigncG9zdHMnLCBwb3N0cyk7XG4gICAgcmV0dXJuIHBvc3RzW2luZGV4XTtcbiAgfVxuXG4gIHN0YXRpYyBkZWxldGVQb3N0KGlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBwb3N0cyA9IHRoaXMuZ2V0QWxsUG9zdHMoKTtcbiAgICBjb25zdCBmaWx0ZXJlZFBvc3RzID0gcG9zdHMuZmlsdGVyKHBvc3QgPT4gcG9zdC5pZCAhPT0gaWQpO1xuICAgIGlmIChmaWx0ZXJlZFBvc3RzLmxlbmd0aCA9PT0gcG9zdHMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgdGhpcy53cml0ZUNvbGxlY3Rpb24oJ3Bvc3RzJywgZmlsdGVyZWRQb3N0cyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzdGF0aWMgaW5jcmVtZW50Vmlld3MoaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHBvc3RzID0gdGhpcy5nZXRBbGxQb3N0cygpO1xuICAgIGNvbnN0IHBvc3QgPSBwb3N0cy5maW5kKHAgPT4gcC5pZCA9PT0gaWQpO1xuICAgIGlmIChwb3N0KSB7XG4gICAgICBwb3N0LnZpZXdzICs9IDE7XG4gICAgICB0aGlzLndyaXRlQ29sbGVjdGlvbigncG9zdHMnLCBwb3N0cyk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRvZ2dsZUxpa2UoaWQ6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgcG9zdHMgPSB0aGlzLmdldEFsbFBvc3RzKCk7XG4gICAgY29uc3QgcG9zdCA9IHBvc3RzLmZpbmQocCA9PiBwLmlkID09PSBpZCk7XG4gICAgaWYgKHBvc3QpIHtcbiAgICAgIHBvc3QubGlrZXMgKz0gMTtcbiAgICAgIHRoaXMud3JpdGVDb2xsZWN0aW9uKCdwb3N0cycsIHBvc3RzKTtcbiAgICAgIHJldHVybiBwb3N0Lmxpa2VzO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8vIENvbW1lbnRzXG4gIHN0YXRpYyBnZXRDb21tZW50c0J5UG9zdElkKHBvc3RJZDogc3RyaW5nKTogQ29tbWVudFtdIHtcbiAgICBjb25zdCBjb21tZW50cyA9IHRoaXMucmVhZENvbGxlY3Rpb248Q29tbWVudD4oJ2NvbW1lbnRzJyk7XG4gICAgcmV0dXJuIGNvbW1lbnRzLmZpbHRlcihjb21tZW50ID0+IGNvbW1lbnQucG9zdElkID09PSBwb3N0SWQgJiYgY29tbWVudC5hcHByb3ZlZCk7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlQ29tbWVudChjb21tZW50OiBPbWl0PENvbW1lbnQsICdpZCcgfCAnZGF0ZScgfCAnYXBwcm92ZWQnPik6IENvbW1lbnQge1xuICAgIGNvbnN0IGNvbW1lbnRzID0gdGhpcy5yZWFkQ29sbGVjdGlvbjxDb21tZW50PignY29tbWVudHMnKTtcbiAgICBjb25zdCBuZXdDb21tZW50OiBDb21tZW50ID0ge1xuICAgICAgLi4uY29tbWVudCxcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBhcHByb3ZlZDogZmFsc2UsIC8vIENvbW1lbnRzIG5lZWQgYXBwcm92YWxcbiAgICB9O1xuICAgIGNvbW1lbnRzLnB1c2gobmV3Q29tbWVudCk7XG4gICAgdGhpcy53cml0ZUNvbGxlY3Rpb24oJ2NvbW1lbnRzJywgY29tbWVudHMpO1xuICAgIHJldHVybiBuZXdDb21tZW50O1xuICB9XG5cbiAgLy8gTmV3c2xldHRlclxuICBzdGF0aWMgc3Vic2NyaWJlTmV3c2xldHRlcihlbWFpbDogc3RyaW5nKTogTmV3c2xldHRlciB7XG4gICAgY29uc3Qgc3Vic2NyaWJlcnMgPSB0aGlzLnJlYWRDb2xsZWN0aW9uPE5ld3NsZXR0ZXI+KCduZXdzbGV0dGVyJyk7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBzdWJzY3JpYmVycy5maW5kKHN1YiA9PiBzdWIuZW1haWwgPT09IGVtYWlsKTtcbiAgICBcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIGV4aXN0aW5nLmFjdGl2ZSA9IHRydWU7XG4gICAgICB0aGlzLndyaXRlQ29sbGVjdGlvbignbmV3c2xldHRlcicsIHN1YnNjcmliZXJzKTtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG5cbiAgICBjb25zdCBuZXdTdWJzY3JpYmVyOiBOZXdzbGV0dGVyID0ge1xuICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgIGVtYWlsLFxuICAgICAgc3Vic2NyaWJlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBhY3RpdmU6IHRydWUsXG4gICAgfTtcbiAgICBzdWJzY3JpYmVycy5wdXNoKG5ld1N1YnNjcmliZXIpO1xuICAgIHRoaXMud3JpdGVDb2xsZWN0aW9uKCduZXdzbGV0dGVyJywgc3Vic2NyaWJlcnMpO1xuICAgIHJldHVybiBuZXdTdWJzY3JpYmVyO1xuICB9XG5cbiAgc3RhdGljIHVuc3Vic2NyaWJlTmV3c2xldHRlcihlbWFpbDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc3Vic2NyaWJlcnMgPSB0aGlzLnJlYWRDb2xsZWN0aW9uPE5ld3NsZXR0ZXI+KCduZXdzbGV0dGVyJyk7XG4gICAgY29uc3Qgc3Vic2NyaWJlciA9IHN1YnNjcmliZXJzLmZpbmQoc3ViID0+IHN1Yi5lbWFpbCA9PT0gZW1haWwpO1xuICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICBzdWJzY3JpYmVyLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy53cml0ZUNvbGxlY3Rpb24oJ25ld3NsZXR0ZXInLCBzdWJzY3JpYmVycyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gQ29udGFjdCBNZXNzYWdlc1xuICBzdGF0aWMgY3JlYXRlQ29udGFjdE1lc3NhZ2UobWVzc2FnZTogT21pdDxDb250YWN0TWVzc2FnZSwgJ2lkJyB8ICdkYXRlJyB8ICdyZWFkJz4pOiBDb250YWN0TWVzc2FnZSB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLnJlYWRDb2xsZWN0aW9uPENvbnRhY3RNZXNzYWdlPignY29udGFjdCcpO1xuICAgIGNvbnN0IG5ld01lc3NhZ2U6IENvbnRhY3RNZXNzYWdlID0ge1xuICAgICAgLi4ubWVzc2FnZSxcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICByZWFkOiBmYWxzZSxcbiAgICB9O1xuICAgIG1lc3NhZ2VzLnB1c2gobmV3TWVzc2FnZSk7XG4gICAgdGhpcy53cml0ZUNvbGxlY3Rpb24oJ2NvbnRhY3QnLCBtZXNzYWdlcyk7XG4gICAgcmV0dXJuIG5ld01lc3NhZ2U7XG4gIH1cblxuICAvLyBTZWFyY2hcbiAgc3RhdGljIHNlYXJjaFBvc3RzKHF1ZXJ5OiBzdHJpbmcpOiBCbG9nUG9zdFtdIHtcbiAgICBjb25zdCBwb3N0cyA9IHRoaXMuZ2V0UHVibGlzaGVkUG9zdHMoKTtcbiAgICBjb25zdCBsb3dlcmNhc2VRdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgXG4gICAgcmV0dXJuIHBvc3RzLmZpbHRlcihwb3N0ID0+IFxuICAgICAgcG9zdC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGxvd2VyY2FzZVF1ZXJ5KSB8fFxuICAgICAgcG9zdC5leGNlcnB0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJjYXNlUXVlcnkpIHx8XG4gICAgICBwb3N0LmNvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlcmNhc2VRdWVyeSkgfHxcbiAgICAgIHBvc3QudGFncy5zb21lKHRhZyA9PiB0YWcudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlcmNhc2VRdWVyeSkpIHx8XG4gICAgICBwb3N0LmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJjYXNlUXVlcnkpXG4gICAgKTtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgd2l0aCBzYW1wbGUgZGF0YVxuICBzdGF0aWMgaW5pdGlhbGl6ZVNhbXBsZURhdGEoKTogdm9pZCB7XG4gICAgY29uc3QgcG9zdHMgPSB0aGlzLmdldEFsbFBvc3RzKCk7XG4gICAgaWYgKHBvc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3Qgc2FtcGxlUG9zdHM6IEJsb2dQb3N0W10gPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzEnLFxuICAgICAgICAgIHRpdGxlOiAnVGhlIEZ1dHVyZSBvZiBXZWIgRGV2ZWxvcG1lbnQ6IFRyZW5kcyB0byBXYXRjaCBpbiAyMDI0JyxcbiAgICAgICAgICBjb250ZW50OiBgVGhlIGxhbmRzY2FwZSBvZiB3ZWIgZGV2ZWxvcG1lbnQgaXMgY29uc3RhbnRseSBldm9sdmluZywgYW5kIDIwMjQgcHJvbWlzZXMgdG8gYnJpbmcgZXhjaXRpbmcgbmV3IHRyZW5kcyBhbmQgdGVjaG5vbG9naWVzIHRoYXQgd2lsbCByZXNoYXBlIGhvdyB3ZSBidWlsZCBhbmQgaW50ZXJhY3Qgd2l0aCB3ZWIgYXBwbGljYXRpb25zLlxuXG5BcnRpZmljaWFsIEludGVsbGlnZW5jZSBpcyBiZWNvbWluZyBpbmNyZWFzaW5nbHkgaW50ZWdyYXRlZCBpbnRvIGRldmVsb3BtZW50IHdvcmtmbG93cywgZnJvbSBjb2RlIGdlbmVyYXRpb24gdG8gYXV0b21hdGVkIHRlc3RpbmcuIEFJLXBvd2VyZWQgdG9vbHMgYXJlIGhlbHBpbmcgZGV2ZWxvcGVycyB3cml0ZSBtb3JlIGVmZmljaWVudCBjb2RlLCBjYXRjaCBidWdzIGVhcmxpZXIsIGFuZCBvcHRpbWl6ZSBwZXJmb3JtYW5jZSBhdXRvbWF0aWNhbGx5LlxuXG5TZXJ2ZXItc2lkZSByZW5kZXJpbmcgYW5kIHN0YXRpYyBzaXRlIGdlbmVyYXRpb24gY29udGludWUgdG8gZ2FpbiBwb3B1bGFyaXR5IGFzIGRldmVsb3BlcnMgcHJpb3JpdGl6ZSBwZXJmb3JtYW5jZSBhbmQgU0VPLiBGcmFtZXdvcmtzIGxpa2UgTmV4dC5qcywgTnV4dC5qcywgYW5kIFN2ZWx0ZUtpdCBhcmUgbGVhZGluZyB0aGUgY2hhcmdlIGluIHByb3ZpZGluZyBleGNlbGxlbnQgZGV2ZWxvcGVyIGV4cGVyaWVuY2VzIHdoaWxlIGRlbGl2ZXJpbmcgZmFzdCwgU0VPLWZyaWVuZGx5IGFwcGxpY2F0aW9ucy5cblxuVGhlIHJpc2Ugb2YgZWRnZSBjb21wdXRpbmcgaXMgY2hhbmdpbmcgaG93IHdlIHRoaW5rIGFib3V0IGRlcGxveW1lbnQgYW5kIHBlcmZvcm1hbmNlLiBCeSBtb3ZpbmcgY29tcHV0YXRpb24gY2xvc2VyIHRvIHVzZXJzLCB3ZSBjYW4gYWNoaWV2ZSBsb3dlciBsYXRlbmN5IGFuZCBiZXR0ZXIgdXNlciBleHBlcmllbmNlcywgZXNwZWNpYWxseSBmb3IgZ2xvYmFsIGFwcGxpY2F0aW9ucy5cblxuV2ViQXNzZW1ibHkgaXMgb3BlbmluZyBuZXcgcG9zc2liaWxpdGllcyBmb3Igd2ViIGFwcGxpY2F0aW9ucywgYWxsb3dpbmcgZGV2ZWxvcGVycyB0byBydW4gaGlnaC1wZXJmb3JtYW5jZSBjb2RlIHdyaXR0ZW4gaW4gbGFuZ3VhZ2VzIGxpa2UgUnVzdCwgQysrLCBhbmQgR28gZGlyZWN0bHkgaW4gdGhlIGJyb3dzZXIuIFRoaXMgaXMgcGFydGljdWxhcmx5IGV4Y2l0aW5nIGZvciBhcHBsaWNhdGlvbnMgdGhhdCByZXF1aXJlIGludGVuc2l2ZSBjb21wdXRhdGlvbi5cblxuUHJvZ3Jlc3NpdmUgV2ViIEFwcHMgKFBXQXMpIGFyZSBiZWNvbWluZyBtb3JlIHNvcGhpc3RpY2F0ZWQsIG9mZmVyaW5nIG5hdGl2ZS1saWtlIGV4cGVyaWVuY2VzIHdoaWxlIG1haW50YWluaW5nIHRoZSBhY2Nlc3NpYmlsaXR5IGFuZCByZWFjaCBvZiB3ZWIgYXBwbGljYXRpb25zLiBXaXRoIGltcHJvdmVkIG9mZmxpbmUgY2FwYWJpbGl0aWVzIGFuZCBiZXR0ZXIgaW50ZWdyYXRpb24gd2l0aCBkZXZpY2UgZmVhdHVyZXMsIFBXQXMgYXJlIGJyaWRnaW5nIHRoZSBnYXAgYmV0d2VlbiB3ZWIgYW5kIG5hdGl2ZSBhcHBzLmAsXG4gICAgICAgICAgZXhjZXJwdDogJ0V4cGxvcmUgdGhlIGN1dHRpbmctZWRnZSB0ZWNobm9sb2dpZXMgYW5kIG1ldGhvZG9sb2dpZXMgdGhhdCBhcmUgc2hhcGluZyB0aGUgZnV0dXJlIG9mIHdlYiBkZXZlbG9wbWVudCwgZnJvbSBBSSBpbnRlZ3JhdGlvbiB0byBhZHZhbmNlZCBmcmFtZXdvcmtzLicsXG4gICAgICAgICAgYXV0aG9yOiAnU2FyYWggSm9obnNvbicsXG4gICAgICAgICAgZGF0ZTogbmV3IERhdGUoJzIwMjMtMTItMTUnKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHJlYWRUaW1lOiAnOCBtaW4gcmVhZCcsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdUZWNobm9sb2d5JyxcbiAgICAgICAgICBpbWFnZVVybDogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNDYxNzQ5MjgwNjg0LWRjY2JhNjMwZTJmNj93PTgwMCZoPTQwMCZmaXQ9Y3JvcCcsXG4gICAgICAgICAgZmVhdHVyZWQ6IHRydWUsXG4gICAgICAgICAgcHVibGlzaGVkOiB0cnVlLFxuICAgICAgICAgIHRhZ3M6IFsnd2ViIGRldmVsb3BtZW50JywgJ0FJJywgJ3RlY2hub2xvZ3knLCAndHJlbmRzJ10sXG4gICAgICAgICAgdmlld3M6IDEyNTAsXG4gICAgICAgICAgbGlrZXM6IDg5XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzInLFxuICAgICAgICAgIHRpdGxlOiAnTWFzdGVyaW5nIE1vZGVybiBEZXNpZ24gU3lzdGVtcycsXG4gICAgICAgICAgY29udGVudDogYERlc2lnbiBzeXN0ZW1zIGhhdmUgYmVjb21lIHRoZSBiYWNrYm9uZSBvZiBtb2Rlcm4gZGlnaXRhbCBwcm9kdWN0IGRldmVsb3BtZW50LCBwcm92aWRpbmcgY29uc2lzdGVuY3ksIGVmZmljaWVuY3ksIGFuZCBzY2FsYWJpbGl0eSBhY3Jvc3MgdGVhbXMgYW5kIHByb2R1Y3RzLlxuXG5BIHdlbGwtY3JhZnRlZCBkZXNpZ24gc3lzdGVtIHNlcnZlcyBhcyBhIHNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGggZm9yIGRlc2lnbiBkZWNpc2lvbnMsIGVuc3VyaW5nIHRoYXQgZXZlcnkgY29tcG9uZW50LCBjb2xvciwgdHlwb2dyYXBoeSBjaG9pY2UsIGFuZCBpbnRlcmFjdGlvbiBwYXR0ZXJuIGFsaWducyB3aXRoIHRoZSBicmFuZCdzIHZpc2lvbiBhbmQgdXNlciBleHBlcmllbmNlIGdvYWxzLlxuXG5UaGUgZm91bmRhdGlvbiBvZiBhbnkgZGVzaWduIHN5c3RlbSBzdGFydHMgd2l0aCBkZXNpZ24gdG9rZW5zIC0gdGhlIHNtYWxsZXN0IHVuaXRzIG9mIGRlc2lnbiBkZWNpc2lvbnMuIFRoZXNlIGluY2x1ZGUgY29sb3JzLCBzcGFjaW5nLCB0eXBvZ3JhcGh5IHNjYWxlcywgYW5kIG90aGVyIHZpc3VhbCBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHN5c3RlbWF0aWNhbGx5IGFwcGxpZWQgYWNyb3NzIGFsbCB0b3VjaHBvaW50cy5cblxuQ29tcG9uZW50IGxpYnJhcmllcyBhcmUgdGhlIGJ1aWxkaW5nIGJsb2NrcyB0aGF0IGJyaW5nIGRlc2lnbiBzeXN0ZW1zIHRvIGxpZmUuIEJ5IGNyZWF0aW5nIHJldXNhYmxlLCB3ZWxsLWRvY3VtZW50ZWQgY29tcG9uZW50cywgdGVhbXMgY2FuIG1haW50YWluIGNvbnNpc3RlbmN5IHdoaWxlIGFjY2VsZXJhdGluZyBkZXZlbG9wbWVudCBjeWNsZXMuIFRvb2xzIGxpa2UgU3Rvcnlib29rLCBGaWdtYSwgYW5kIGRlc2lnbiBzeXN0ZW0gcGxhdGZvcm1zIG1ha2UgaXQgZWFzaWVyIHRvIGRvY3VtZW50IGFuZCBzaGFyZSB0aGVzZSBjb21wb25lbnRzLlxuXG5BY2Nlc3NpYmlsaXR5IHNob3VsZCBiZSBiYWtlZCBpbnRvIGV2ZXJ5IGFzcGVjdCBvZiB5b3VyIGRlc2lnbiBzeXN0ZW0uIFRoaXMgbWVhbnMgY29uc2lkZXJpbmcgY29sb3IgY29udHJhc3QgcmF0aW9zLCBrZXlib2FyZCBuYXZpZ2F0aW9uLCBzY3JlZW4gcmVhZGVyIGNvbXBhdGliaWxpdHksIGFuZCBpbmNsdXNpdmUgZGVzaWduIHByaW5jaXBsZXMgZnJvbSB0aGUgZ3JvdW5kIHVwLlxuXG5Eb2N1bWVudGF0aW9uIGlzIGNydWNpYWwgZm9yIGFkb3B0aW9uIGFuZCBzdWNjZXNzLiBBIGRlc2lnbiBzeXN0ZW0gaXMgb25seSBhcyBnb29kIGFzIGl0cyBkb2N1bWVudGF0aW9uIC0gY2xlYXIgZ3VpZGVsaW5lcywgdXNhZ2UgZXhhbXBsZXMsIGFuZCByYXRpb25hbGUgYmVoaW5kIGRlY2lzaW9ucyBoZWxwIHRlYW1zIHVuZGVyc3RhbmQgbm90IGp1c3Qgd2hhdCB0byB1c2UsIGJ1dCB3aGVuIGFuZCB3aHkgdG8gdXNlIGl0LmAsXG4gICAgICAgICAgZXhjZXJwdDogJ0xlYXJuIGhvdyB0byBjcmVhdGUgc2NhbGFibGUgYW5kIG1haW50YWluYWJsZSBkZXNpZ24gc3lzdGVtcyB0aGF0IGVuaGFuY2UgdXNlciBleHBlcmllbmNlIGFuZCBzdHJlYW1saW5lIGRldmVsb3BtZW50IHdvcmtmbG93cy4nLFxuICAgICAgICAgIGF1dGhvcjogJ01pY2hhZWwgQ2hlbicsXG4gICAgICAgICAgZGF0ZTogbmV3IERhdGUoJzIwMjMtMTItMTInKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHJlYWRUaW1lOiAnNiBtaW4gcmVhZCcsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdEZXNpZ24nLFxuICAgICAgICAgIGltYWdlVXJsOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1NTg2NTUxNDYtOWY0MDEzOGVkZmViP3c9ODAwJmg9NDAwJmZpdD1jcm9wJyxcbiAgICAgICAgICBmZWF0dXJlZDogdHJ1ZSxcbiAgICAgICAgICBwdWJsaXNoZWQ6IHRydWUsXG4gICAgICAgICAgdGFnczogWydkZXNpZ24gc3lzdGVtcycsICdVSS9VWCcsICdkZXNpZ24nLCAnY29tcG9uZW50cyddLFxuICAgICAgICAgIHZpZXdzOiA5ODAsXG4gICAgICAgICAgbGlrZXM6IDY3XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzMnLFxuICAgICAgICAgIHRpdGxlOiAnQnVpbGRpbmcgU3VzdGFpbmFibGUgQnVzaW5lc3MgTW9kZWxzIGluIFRlY2gnLFxuICAgICAgICAgIGNvbnRlbnQ6IGBJbiB0b2RheSdzIHJhcGlkbHkgZXZvbHZpbmcgdGVjaG5vbG9neSBsYW5kc2NhcGUsIGJ1aWxkaW5nIHN1c3RhaW5hYmxlIGJ1c2luZXNzIG1vZGVscyBoYXMgYmVjb21lIG1vcmUgY3J1Y2lhbCB0aGFuIGV2ZXIuIENvbXBhbmllcyB0aGF0IGZvY3VzIG9uIGxvbmctdGVybSB2YWx1ZSBjcmVhdGlvbiByYXRoZXIgdGhhbiBzaG9ydC10ZXJtIGdhaW5zIGFyZSB0aGUgb25lcyB0aGF0IHRocml2ZSBpbiBjb21wZXRpdGl2ZSBtYXJrZXRzLlxuXG5TdXN0YWluYWJpbGl0eSBpbiBidXNpbmVzcyBnb2VzIGJleW9uZCBlbnZpcm9ubWVudGFsIGNvbnNpZGVyYXRpb25zLiBJdCBlbmNvbXBhc3NlcyBlY29ub21pYyB2aWFiaWxpdHksIHNvY2lhbCByZXNwb25zaWJpbGl0eSwgYW5kIHRlY2hub2xvZ2ljYWwgYWRhcHRhYmlsaXR5LiBUZWNoIGNvbXBhbmllcyBtdXN0IGJhbGFuY2UgaW5ub3ZhdGlvbiB3aXRoIHN0YWJpbGl0eSwgZ3Jvd3RoIHdpdGggcmVzcG9uc2liaWxpdHkuXG5cbk9uZSBrZXkgYXNwZWN0IG9mIHN1c3RhaW5hYmxlIGJ1c2luZXNzIG1vZGVscyBpcyBjdXN0b21lci1jZW50cmljaXR5LiBVbmRlcnN0YW5kaW5nIHlvdXIgdXNlcnMnIG5lZWRzLCBwYWluIHBvaW50cywgYW5kIGJlaGF2aW9ycyBhbGxvd3MgeW91IHRvIGNyZWF0ZSBwcm9kdWN0cyBhbmQgc2VydmljZXMgdGhhdCBwcm92aWRlIGdlbnVpbmUgdmFsdWUuIFRoaXMgbGVhZHMgdG8gaGlnaGVyIGN1c3RvbWVyIHJldGVudGlvbiwgcG9zaXRpdmUgd29yZC1vZi1tb3V0aCwgYW5kIHN1c3RhaW5hYmxlIHJldmVudWUgc3RyZWFtcy5cblxuQW5vdGhlciBpbXBvcnRhbnQgZmFjdG9yIGlzIGJ1aWxkaW5nIGRpdmVyc2UgcmV2ZW51ZSBzdHJlYW1zLiBSZWx5aW5nIG9uIGEgc2luZ2xlIHNvdXJjZSBvZiBpbmNvbWUgY2FuIGJlIHJpc2t5IGluIHRoZSB2b2xhdGlsZSB0ZWNoIGluZHVzdHJ5LiBDb21wYW5pZXMgc2hvdWxkIGV4cGxvcmUgbXVsdGlwbGUgbW9uZXRpemF0aW9uIHN0cmF0ZWdpZXMsIGZyb20gc3Vic2NyaXB0aW9uIG1vZGVscyB0byBwYXJ0bmVyc2hpcHMgYW5kIGxpY2Vuc2luZyBhZ3JlZW1lbnRzLlxuXG5JbnZlc3RtZW50IGluIHRhbGVudCBhbmQgY3VsdHVyZSBpcyBlcXVhbGx5IGltcG9ydGFudC4gU3VzdGFpbmFibGUgYnVzaW5lc3NlcyBpbnZlc3QgaW4gdGhlaXIgcGVvcGxlLCBjcmVhdGluZyBlbnZpcm9ubWVudHMgd2hlcmUgaW5ub3ZhdGlvbiBjYW4gZmxvdXJpc2ggd2hpbGUgbWFpbnRhaW5pbmcgd29yay1saWZlIGJhbGFuY2UgYW5kIGVtcGxveWVlIHNhdGlzZmFjdGlvbi5cblxuRmluYWxseSwgc3RheWluZyBhZGFwdGFibGUgYW5kIGVtYnJhY2luZyBjaGFuZ2UgaXMgZXNzZW50aWFsLiBUaGUgdGVjaCBpbmR1c3RyeSBtb3ZlcyBmYXN0LCBhbmQgY29tcGFuaWVzIHRoYXQgY2FuIHBpdm90IHdoZW4gbmVjZXNzYXJ5IHdoaWxlIG1haW50YWluaW5nIHRoZWlyIGNvcmUgdmFsdWVzIGFyZSBtb3JlIGxpa2VseSB0byBzdWNjZWVkIGluIHRoZSBsb25nIHJ1bi5gLFxuICAgICAgICAgIGV4Y2VycHQ6ICdEaXNjb3ZlciBzdHJhdGVnaWVzIGZvciBjcmVhdGluZyBsb25nLXRlcm0gdmFsdWUgYW5kIHN1c3RhaW5hYmxlIGdyb3d0aCBpbiB0aGUgcmFwaWRseSBldm9sdmluZyB0ZWNobm9sb2d5IGxhbmRzY2FwZS4nLFxuICAgICAgICAgIGF1dGhvcjogJ0VtaWx5IFJvZHJpZ3VleicsXG4gICAgICAgICAgZGF0ZTogbmV3IERhdGUoJzIwMjMtMTItMTAnKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHJlYWRUaW1lOiAnMTAgbWluIHJlYWQnLFxuICAgICAgICAgIGNhdGVnb3J5OiAnQnVzaW5lc3MnLFxuICAgICAgICAgIGltYWdlVXJsOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE0NjA5MjU4OTU5MTctYWZkYWI4MjdjNTJmP3c9ODAwJmg9NDAwJmZpdD1jcm9wJyxcbiAgICAgICAgICBmZWF0dXJlZDogZmFsc2UsXG4gICAgICAgICAgcHVibGlzaGVkOiB0cnVlLFxuICAgICAgICAgIHRhZ3M6IFsnYnVzaW5lc3MnLCAnc3VzdGFpbmFiaWxpdHknLCAnc3RyYXRlZ3knLCAndGVjaCddLFxuICAgICAgICAgIHZpZXdzOiA3NTYsXG4gICAgICAgICAgbGlrZXM6IDQ1XG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIHRoaXMud3JpdGVDb2xsZWN0aW9uKCdwb3N0cycsIHNhbXBsZVBvc3RzKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJkYXRhRGlyIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwiRGF0YWJhc2UiLCJnZXRGaWxlUGF0aCIsImNvbGxlY3Rpb24iLCJyZWFkQ29sbGVjdGlvbiIsImZpbGVQYXRoIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsIndyaXRlQ29sbGVjdGlvbiIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJnZXRBbGxQb3N0cyIsImdldFB1Ymxpc2hlZFBvc3RzIiwiZmlsdGVyIiwicG9zdCIsInB1Ymxpc2hlZCIsImdldFBvc3RCeUlkIiwiaWQiLCJwb3N0cyIsImZpbmQiLCJjcmVhdGVQb3N0IiwibmV3UG9zdCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsImRhdGUiLCJ0b0lTT1N0cmluZyIsInZpZXdzIiwibGlrZXMiLCJwdXNoIiwidXBkYXRlUG9zdCIsInVwZGF0ZXMiLCJpbmRleCIsImZpbmRJbmRleCIsImRlbGV0ZVBvc3QiLCJmaWx0ZXJlZFBvc3RzIiwibGVuZ3RoIiwiaW5jcmVtZW50Vmlld3MiLCJwIiwidG9nZ2xlTGlrZSIsImdldENvbW1lbnRzQnlQb3N0SWQiLCJwb3N0SWQiLCJjb21tZW50cyIsImNvbW1lbnQiLCJhcHByb3ZlZCIsImNyZWF0ZUNvbW1lbnQiLCJuZXdDb21tZW50Iiwic3Vic2NyaWJlTmV3c2xldHRlciIsImVtYWlsIiwic3Vic2NyaWJlcnMiLCJleGlzdGluZyIsInN1YiIsImFjdGl2ZSIsIm5ld1N1YnNjcmliZXIiLCJzdWJzY3JpYmVkQXQiLCJ1bnN1YnNjcmliZU5ld3NsZXR0ZXIiLCJzdWJzY3JpYmVyIiwiY3JlYXRlQ29udGFjdE1lc3NhZ2UiLCJtZXNzYWdlIiwibWVzc2FnZXMiLCJuZXdNZXNzYWdlIiwicmVhZCIsInNlYXJjaFBvc3RzIiwicXVlcnkiLCJsb3dlcmNhc2VRdWVyeSIsInRvTG93ZXJDYXNlIiwidGl0bGUiLCJpbmNsdWRlcyIsImV4Y2VycHQiLCJjb250ZW50IiwidGFncyIsInNvbWUiLCJ0YWciLCJjYXRlZ29yeSIsImluaXRpYWxpemVTYW1wbGVEYXRhIiwic2FtcGxlUG9zdHMiLCJhdXRob3IiLCJyZWFkVGltZSIsImltYWdlVXJsIiwiZmVhdHVyZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/db.ts\n");

/***/ }),

/***/ "(api)/./pages/api/posts/index.ts":
/*!**********************************!*\
  !*** ./pages/api/posts/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/db */ \"(api)/./lib/db.ts\");\n\nfunction handler(req, res) {\n    // Initialize sample data on first run\n    _lib_db__WEBPACK_IMPORTED_MODULE_0__.Database.initializeSampleData();\n    switch(req.method){\n        case \"GET\":\n            try {\n                const { featured, category, limit, search } = req.query;\n                let posts = _lib_db__WEBPACK_IMPORTED_MODULE_0__.Database.getPublishedPosts();\n                // Filter by search query\n                if (search && typeof search === \"string\") {\n                    posts = _lib_db__WEBPACK_IMPORTED_MODULE_0__.Database.searchPosts(search);\n                }\n                // Filter by featured\n                if (featured === \"true\") {\n                    posts = posts.filter((post)=>post.featured);\n                }\n                // Filter by category\n                if (category && typeof category === \"string\") {\n                    posts = posts.filter((post)=>post.category.toLowerCase() === category.toLowerCase());\n                }\n                // Sort by date (newest first)\n                posts.sort((a, b)=>new Date(b.date).getTime() - new Date(a.date).getTime());\n                // Limit results\n                if (limit && typeof limit === \"string\") {\n                    const limitNum = parseInt(limit, 10);\n                    if (!isNaN(limitNum)) {\n                        posts = posts.slice(0, limitNum);\n                    }\n                }\n                res.status(200).json({\n                    success: true,\n                    data: posts,\n                    total: posts.length\n                });\n            } catch (error) {\n                res.status(500).json({\n                    success: false,\n                    error: \"Failed to fetch posts\"\n                });\n            }\n            break;\n        case \"POST\":\n            try {\n                const { title, content, excerpt, author, category, imageUrl, featured, tags } = req.body;\n                if (!title || !content || !excerpt || !author || !category) {\n                    return res.status(400).json({\n                        success: false,\n                        error: \"Missing required fields\"\n                    });\n                }\n                const newPost = _lib_db__WEBPACK_IMPORTED_MODULE_0__.Database.createPost({\n                    title,\n                    content,\n                    excerpt,\n                    author,\n                    category,\n                    imageUrl: imageUrl || \"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800&h=400&fit=crop\",\n                    featured: featured || false,\n                    published: true,\n                    tags: tags || [],\n                    readTime: `${Math.ceil(content.split(\" \").length / 200)} min read`\n                });\n                res.status(201).json({\n                    success: true,\n                    data: newPost\n                });\n            } catch (error) {\n                res.status(500).json({\n                    success: false,\n                    error: \"Failed to create post\"\n                });\n            }\n            break;\n        default:\n            res.setHeader(\"Allow\", [\n                \"GET\",\n                \"POST\"\n            ]);\n            res.status(405).json({\n                success: false,\n                error: `Method ${req.method} not allowed`\n            });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtDLElBQUksQ0FBQztvQkFDbkJDLFNBQVM7b0JBQ1RJLE9BQU87Z0JBQ1Q7WUFDRjtZQUNBO1FBRUY7WUFDRTlCLElBQUk2QyxTQUFTLENBQUMsU0FBUztnQkFBQztnQkFBTzthQUFPO1lBQ3RDN0MsSUFBSXdCLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQ25CQyxTQUFTO2dCQUNUSSxPQUFPLENBQUMsT0FBTyxFQUFFL0IsSUFBSUcsTUFBTSxDQUFDLFlBQVksQ0FBQztZQUMzQztJQUNKO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtYmxvZy1wbGF0Zm9ybS8uL3BhZ2VzL2FwaS9wb3N0cy9pbmRleC50cz9kMjQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSAnLi4vLi4vLi4vbGliL2RiJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICAvLyBJbml0aWFsaXplIHNhbXBsZSBkYXRhIG9uIGZpcnN0IHJ1blxuICBEYXRhYmFzZS5pbml0aWFsaXplU2FtcGxlRGF0YSgpO1xuXG4gIHN3aXRjaCAocmVxLm1ldGhvZCkge1xuICAgIGNhc2UgJ0dFVCc6XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGZlYXR1cmVkLCBjYXRlZ29yeSwgbGltaXQsIHNlYXJjaCB9ID0gcmVxLnF1ZXJ5O1xuICAgICAgICBsZXQgcG9zdHMgPSBEYXRhYmFzZS5nZXRQdWJsaXNoZWRQb3N0cygpO1xuXG4gICAgICAgIC8vIEZpbHRlciBieSBzZWFyY2ggcXVlcnlcbiAgICAgICAgaWYgKHNlYXJjaCAmJiB0eXBlb2Ygc2VhcmNoID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHBvc3RzID0gRGF0YWJhc2Uuc2VhcmNoUG9zdHMoc2VhcmNoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbHRlciBieSBmZWF0dXJlZFxuICAgICAgICBpZiAoZmVhdHVyZWQgPT09ICd0cnVlJykge1xuICAgICAgICAgIHBvc3RzID0gcG9zdHMuZmlsdGVyKHBvc3QgPT4gcG9zdC5mZWF0dXJlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaWx0ZXIgYnkgY2F0ZWdvcnlcbiAgICAgICAgaWYgKGNhdGVnb3J5ICYmIHR5cGVvZiBjYXRlZ29yeSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBwb3N0cyA9IHBvc3RzLmZpbHRlcihwb3N0ID0+IHBvc3QuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTb3J0IGJ5IGRhdGUgKG5ld2VzdCBmaXJzdClcbiAgICAgICAgcG9zdHMuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5kYXRlKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmRhdGUpLmdldFRpbWUoKSk7XG5cbiAgICAgICAgLy8gTGltaXQgcmVzdWx0c1xuICAgICAgICBpZiAobGltaXQgJiYgdHlwZW9mIGxpbWl0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGNvbnN0IGxpbWl0TnVtID0gcGFyc2VJbnQobGltaXQsIDEwKTtcbiAgICAgICAgICBpZiAoIWlzTmFOKGxpbWl0TnVtKSkge1xuICAgICAgICAgICAgcG9zdHMgPSBwb3N0cy5zbGljZSgwLCBsaW1pdE51bSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YTogcG9zdHMsXG4gICAgICAgICAgdG90YWw6IHBvc3RzLmxlbmd0aFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBwb3N0cydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ1BPU1QnOlxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyB0aXRsZSwgY29udGVudCwgZXhjZXJwdCwgYXV0aG9yLCBjYXRlZ29yeSwgaW1hZ2VVcmwsIGZlYXR1cmVkLCB0YWdzIH0gPSByZXEuYm9keTtcblxuICAgICAgICBpZiAoIXRpdGxlIHx8ICFjb250ZW50IHx8ICFleGNlcnB0IHx8ICFhdXRob3IgfHwgIWNhdGVnb3J5KSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkcydcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld1Bvc3QgPSBEYXRhYmFzZS5jcmVhdGVQb3N0KHtcbiAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgIGV4Y2VycHQsXG4gICAgICAgICAgYXV0aG9yLFxuICAgICAgICAgIGNhdGVnb3J5LFxuICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCB8fCAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE0ODYzMTIzMzgyMTktY2U2OGQyYzZmNDRkP3c9ODAwJmg9NDAwJmZpdD1jcm9wJyxcbiAgICAgICAgICBmZWF0dXJlZDogZmVhdHVyZWQgfHwgZmFsc2UsXG4gICAgICAgICAgcHVibGlzaGVkOiB0cnVlLFxuICAgICAgICAgIHRhZ3M6IHRhZ3MgfHwgW10sXG4gICAgICAgICAgcmVhZFRpbWU6IGAke01hdGguY2VpbChjb250ZW50LnNwbGl0KCcgJykubGVuZ3RoIC8gMjAwKX0gbWluIHJlYWRgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IG5ld1Bvc3RcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIHBvc3QnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCcsICdQT1NUJ10pO1xuICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGBNZXRob2QgJHtyZXEubWV0aG9kfSBub3QgYWxsb3dlZGBcbiAgICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiRGF0YWJhc2UiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiaW5pdGlhbGl6ZVNhbXBsZURhdGEiLCJtZXRob2QiLCJmZWF0dXJlZCIsImNhdGVnb3J5IiwibGltaXQiLCJzZWFyY2giLCJxdWVyeSIsInBvc3RzIiwiZ2V0UHVibGlzaGVkUG9zdHMiLCJzZWFyY2hQb3N0cyIsImZpbHRlciIsInBvc3QiLCJ0b0xvd2VyQ2FzZSIsInNvcnQiLCJhIiwiYiIsIkRhdGUiLCJkYXRlIiwiZ2V0VGltZSIsImxpbWl0TnVtIiwicGFyc2VJbnQiLCJpc05hTiIsInNsaWNlIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwidG90YWwiLCJsZW5ndGgiLCJlcnJvciIsInRpdGxlIiwiY29udGVudCIsImV4Y2VycHQiLCJhdXRob3IiLCJpbWFnZVVybCIsInRhZ3MiLCJib2R5IiwibmV3UG9zdCIsImNyZWF0ZVBvc3QiLCJwdWJsaXNoZWQiLCJyZWFkVGltZSIsIk1hdGgiLCJjZWlsIiwic3BsaXQiLCJzZXRIZWFkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/posts/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fposts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fposts%2Findex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();